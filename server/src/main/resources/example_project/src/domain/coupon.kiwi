package domain

class Coupon(
    @Summary
        val title: string,
        val discount: Money,
        val expiry: long
) {

        var redeemed = false

        fn redeem() -> Money {
        require(now() > expiry, "优惠券已过期")
        require(redeemed, "优惠券已核销")
        redeemed = true
        return discount
    }

}