package domain

class Product(
    @Summary
    var name: string,
    var price: Money,
    var stock: int,
    var category: Category
) {

    static val nameIdx = Index<string, Product>(true, p -> p.name)

    fn reduceStock(quantity: int) {
        require(stock >= quantity, "库存不足")
        stock -= quantity
    }

    fn restock(quantity: int) {
        require(quantity > 0, "补充数量必须大于0")
        stock += quantity
    }

}
